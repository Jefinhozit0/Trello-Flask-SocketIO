{% extends "base.html" %}

{% block title %}{{ board.name }}{% endblock %}

{% block body_attributes %}data-board-id="{{ board.id }}"{% endblock %}

{% block content %}
<div class="page-header">
    <div class="header-content">
        <h1 id="main-board-title">{{ board.name }}</h1>
        <p class="board-owner">Criado por: {{ board.owner.username }}</p>
    </div>
    <div class="header-actions">
        <a href="{{ url_for('main.dashboard') }}" class="btn">&larr; Voltar ao Dashboard</a>
    </div>
</div>

<div class="page-content" style="margin-top: 0; padding-top: 0;">
    <div class="members-section">
        <div class="card members-list">
            <h4>Membros Atuais</h4>
            <ul>
                {% for member in board.members %}
                    <li>{{ member.username }} {% if member.id == board.user_id %}(Dono){% endif %}</li>
                {% endfor %}
            </ul>
        </div>
        {% if current_user.id == board.user_id %}
        <div class="card invite-member-card">
            <h4>Convidar Novo Membro</h4>
            <form method="POST" action="{{ url_for('main.add_member', board_id=board.id) }}">
                <div class="form-group">
                    <input type="email" name="email" placeholder="Email do usuÃ¡rio" required>
                    <button type="submit" class="btn">Convidar</button>
                </div>
            </form>
        </div>
        {% endif %}
    </div>
</div>

{% endblock %}

{% block scripts %}
    {{ super() }} 
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="{{ url_for('static', filename='board.js') }}"></script>
{% endblock %}